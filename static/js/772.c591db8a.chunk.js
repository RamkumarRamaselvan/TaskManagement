"use strict";(self.webpackChunkwhizlabstask=self.webpackChunkwhizlabstask||[]).push([[772],{8638:(e,a,s)=>{s.d(a,{p:()=>t,r:()=>l});const t=()=>{const e=new Date,a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),t=e.getFullYear(),l=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");return"".concat(a,"/").concat(s,"/").concat(t," ").concat(l,":").concat(n,":").concat(r)},l=e=>{const a="charCode"in e?e.charCode:e.keyCode;a>=48&&a<=57||e.preventDefault()}},3936:(e,a,s)=>{s.d(a,{K:()=>t,_:()=>l});const t=[{label:"Pending",value:"Pending"},{label:"In Progress",value:"In Progress"},{label:"Completed",value:"Completed"}],l=[{name:"firstName",lable:"First Name",type:"text"},{name:"lastName",lable:"Last Name",type:"text"},{name:"username",lable:"Username",type:"text"},{name:"password",lable:"Password",type:"password"},{name:"email",lable:"Email",type:"text"},{name:"mobile",lable:"Mobile Number",type:"tel"}]},7772:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(5043),l=s(2555),n=s(4922),r=s(2691),o=s(579);const c=e=>{const{label:a,option:s,name:t,id:l,value:n,onChange:c,customlabelClassName:i}=e;return(0,o.jsxs)("section",{className:"mb-10",children:[a&&(0,o.jsx)("label",{className:i,children:a}),(0,o.jsx)(r.A.Select,{name:t,id:l,value:n,onChange:c,children:null===s||void 0===s?void 0:s.map(((e,a)=>(0,o.jsx)("option",{value:e.value,children:e.label},a)))})]})};var i=s(3936),d=s(8638),u=s(4282);const m=e=>{var a,r;const m=s(8330).proxy,{closeBtnFuc:h,actionType:v,getData:p,listAPICall:x}=e,{username:g}=JSON.parse(localStorage.getItem("userDetails"))||{},j=JSON.parse(localStorage.getItem("registerUser"))||[],N=null===j||void 0===j?void 0:j.map((e=>({label:e.username,value:e.username}))),[C,k]=(0,t.useState)({taskName:"",assignee:(null===(a=N[0])||void 0===a?void 0:a.value)||"",status:(null===(r=i.K[0])||void 0===r?void 0:r.value)||""}),[b,S]=(0,t.useState)({taskName:{error:!1,msg:""}});console.log(N),(0,t.useEffect)((()=>{p&&k((e=>(0,l.A)((0,l.A)({},e),{},{taskName:null===p||void 0===p?void 0:p.taskName,assignee:null===p||void 0===p?void 0:p.assignee,status:null===p||void 0===p?void 0:p.status})))}),[p]);const w=(e,a)=>{k((s=>(0,l.A)((0,l.A)({},s),{},{[e]:a})))};return(0,o.jsxs)("section",{children:[(0,o.jsxs)("h4",{children:[v?"Create":"Update"," Task"]}),(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)(n.A,{label:"Task Name",type:"Text",name:"taskName",error:b.taskName.error,errorMessage:b.taskName.msg,id:"taskName",placeholder:"Enter Task Name",value:C.taskName,onChange:e=>{return a="taskName",s=e.target.value,k((e=>(0,l.A)((0,l.A)({},e),{},{[a]:s}))),void S((e=>(0,l.A)((0,l.A)({},e),{},{[a]:{error:!1,msg:""}})));var a,s}})}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)(c,{label:"Assignee",value:C.assignee,option:N,onChange:e=>w("assignee",e.target.value)})})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsx)(c,{label:"Status",value:C.status,option:i.K,onChange:e=>w("status",e.target.value)})})}),(0,o.jsxs)("div",{className:"btn_Cover",children:[(0,o.jsx)(u.A,{onClick:()=>{const{taskName:e,assignee:a,status:s}=C,t=(()=>{let e=!0;return""==C.taskName&&(S((e=>(0,l.A)((0,l.A)({},e),{},{taskName:{error:!0,msg:"Please Enter Task Name."}}))),e=!1),e})(),n={taskName:e,assignee:a,status:s,reporter:g,created:p?p.created:(0,d.p)(),updated:(0,d.p)()};t&&fetch("".concat(m,"/saveData").concat(p?"/".concat(p.id):""),{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{alert(p?"Task Updated Successfully":"Task Created Successfully"),x(),h()})).catch((e=>alert("something went wrong!")))},children:"Save"}),(0,o.jsx)(u.A,{onClick:h,children:"Cancel"})]})]})]})};var h=s(3083);const v=e=>{const{modalOpen:a,closeBtn:s,modalCustomClass:t,modalBody:l,closeBtnFuc:n,size:r}=e;return(0,o.jsxs)(h.A,{show:a,centered:!0,dialogClassName:t,animation:!0,size:r,id:"modelID",backdrop:"static",children:[s&&(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>n(),children:"X"}),(0,o.jsx)(h.A.Body,{children:l(e)})]})};var p=s(4196),x=s(1666);const g=e=>{const{columns:a,data:s,btnData:l,isSearch:n}=e,[r,c]=(0,t.useState)(""),[i,d]=(0,t.useState)([]);(0,t.useEffect)((()=>{d(s)}),[s]);return(0,o.jsxs)("section",{id:"customTable",children:[(0,o.jsxs)("ul",{children:[null===l||void 0===l?void 0:l.map(((e,a)=>(0,o.jsx)("li",{children:(0,o.jsx)(u.A,{onClick:()=>e.handleonClick(),children:e.text})},a))),n&&(0,o.jsx)("li",{children:(0,o.jsx)(x.A,{className:"col-md-4",children:(0,o.jsx)("input",{className:"form-control",placeholder:"Search",value:r,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d(s.filter((e=>e.taskName.toLowerCase().includes(r.toLowerCase()))))},onKeyUp:e=>{r||d(s)}})})})]}),(0,o.jsx)("div",{className:"responsive_Table",children:(0,o.jsxs)(p.A,{striped:"columns",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Sl.No"}),null===a||void 0===a?void 0:a.map(((e,a)=>(0,o.jsx)("th",{children:e.Header},a)))]})}),(0,o.jsx)("tbody",{children:i.length>0?null===i||void 0===i?void 0:i.map(((e,s)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:s+1}),null===a||void 0===a?void 0:a.map(((a,s)=>(0,o.jsx)("td",{children:a.Cell?a.Cell({value:e[a.accessor],row:e},e):e[a.accessor]||"-"},s)))]},s))):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:a.length+1,className:"noDataMsg",children:"No data available"})})})]})})]})};s(8356);var j=s(5200);const N=()=>{const e=s(8330).proxy,[a,l]=(0,t.useState)(!1),[n,r]=(0,t.useState)([]),[c,i]=(0,t.useState)(!0),[d,u]=(0,t.useState)({});(0,t.useEffect)((()=>{h()}),[]);const h=()=>{fetch("".concat(e,"/saveData"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>r(e))).catch((e=>console.error("Error fetching data:",e)))},p=(e,a)=>{l(!0),u(a),i(!e)},x=()=>{l(!1)},N=[{text:"Create New",handleonClick:p,className:"solid-btn"}],C=[{Header:"Task Name",accessor:"taskName",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Assignee",accessor:"assignee",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Reporter",accessor:"reporter",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Created",accessor:"created",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Updated",accessor:"updated",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Status",accessor:"status",Cell:e=>{let{value:a,row:s}=e;return a||"-"}},{Header:"Actions",Cell:a=>{let{value:s,row:t}=a;return(0,o.jsxs)("div",{className:"action_div",children:[(0,o.jsx)("div",{className:"actcol",children:(0,o.jsx)("a",{title:"Edit",children:(0,o.jsx)(j.SG1,{className:"edit-icon",onClick:()=>{p(t.id,t)}})})}),(0,o.jsx)("div",{className:"actcol",children:(0,o.jsx)("a",{title:"Delete",children:(0,o.jsx)(j.IXo,{className:"delete-icon",onClick:()=>{var a;a=t.id,fetch("".concat(e,"/saveData/").concat(a),{method:"DELETE"}).then((()=>{alert("Task Deleted Successfully"),h()})).catch((e=>alert("something went wrong!")))}})})})]})}}],k=["Pending","In Progress","Completed"];return n.sort(((e,a)=>k.indexOf(e.status)-k.indexOf(a.status))),(0,o.jsxs)("section",{className:"wrapper",children:[(0,o.jsx)("div",{className:"register_container",children:(0,o.jsxs)("div",{className:"profileCard",children:[(0,o.jsx)("h2",{children:"Task Management"}),(0,o.jsx)(g,{columns:C,data:n,btnData:N,isSearch:!0})]})}),(0,o.jsx)(v,{modalOpen:a,modalBody:()=>(0,o.jsx)(m,{closeBtnFuc:x,actionType:c,getData:d,listAPICall:h}),closeBtn:!0,closeBtnFuc:()=>x(),size:"lg"})]})}}}]);
//# sourceMappingURL=772.c591db8a.chunk.js.map